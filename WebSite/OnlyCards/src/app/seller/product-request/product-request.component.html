<div style="height: 20px"></div>

<div *ngIf="Array.from(Object.values(this.games)).length > 0">
  <div class="container">
    <div id="titleContainer">
      <h1>Richiesta Prodotto</h1>
    </div>

    <div id="requestProductContainer" class="container">
      <div id="formContainer">
        <form [formGroup]="formRequest">
          <div class="mb-3">
            <label for="gameType">Scegli il gioco<span [ngbTooltip]="'Obbligatorio'" style="color: red;">*</span></label>

            <div class="d-flex align-items-center">
              <select class="form-select customComponent" id="gameType" formControlName="gameType">
                <option value="" selected>-</option>
                <option *ngFor="let item of Array.from(Object.values(this.games))" [value]="item">{{ item }}</option>
              </select>
            </div>
          </div>

          <div class="mb-3">
            <label for="productName">Nome carta<span [ngbTooltip]="'Obbligatorio'" style="color: red;">*</span></label>
            <input type="text" id="productName" formControlName="productName" class="form-control customComponent" placeholder="Inserisci il nome del prodotto">
          </div>

          <div class="mb-3" style="margin-top: 10px;">
            <label for="stateDescription">Note (opzionale)</label>
            <textarea [maxLength]="200" class="form-control customComponent" placeholder="Inserisci la descrizione" formControlName="stateDescription" id="stateDescription" style="height: 100px"></textarea>
          </div>

          <div class="mb-3" style="text-align: right;">
            <button type="button" class="btn btn-info" [disabled]="formRequest.invalid" (click)="sendRequest()"><strong>Invia</strong></button>
            <button type="button" class="btn btn-danger" style="margin-left: 10px;" (click)="resetForm()"><strong>Annulla</strong></button>
          </div>
        </form>
      </div>

      <div id="imageContainer">
        <form [formGroup]="formRequest">
          <label for="cardImage">Immagine carta<span [ngbTooltip]="'Obbligatorio'" style="color: red;">*</span></label>
          <input type="file" id="cardImage" accept="image/*" (change)="onImageSelected($event)" class="form-control customComponent" style="margin-bottom: 10px;" formControlName="imageProduct">

          <div *ngIf="imagePreview" style="margin-top: 10px;">
            <img [src]="imagePreview" alt="Anteprima immagine" class="image-preview">
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
